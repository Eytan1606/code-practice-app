<!-- templates/attempts.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Code Attempts</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <h2 class="mb-4">Your Code Attempts</h2>
        {% if attempts %}
            <div class="accordion" id="attemptsAccordion">
                {% for attempt in attempts %}
                    <div class="accordion-item mb-2">
                        <h2 class="accordion-header" id="heading{{ loop.index }}">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ loop.index }}">
                                Attempt from {{ attempt.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}
                            </button>
                        </h2>
                        <div id="collapse{{ loop.index }}" class="accordion-collapse collapse" data-bs-parent="#attemptsAccordion">
                            <div class="accordion-body">
                                <strong>Code:</strong>
                                <pre class="bg-light border p-2">{{ attempt.code }}</pre>
                                <strong>Output:</strong>
                                <pre class="bg-dark text-white p-2">{{ attempt.output }}</pre>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="alert alert-info">No attempts found.</div>
        {% endif %}

        <a href="{{ url_for('practice') }}" class="btn btn-primary mt-3">‚Üê Back to Practice</a>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
